# Monthly Report #202204

本月我们迎来了主网上线的最后准备时间，目前项目已进入代码审计环节，一旦解决完所有的问题，我们将会进行主网上线，同时之后也会进行我们的 TTE 活动。

## Tech

### Subsquid 集成

本月继续将 Subsquid 集成到 Zeitgeist 生态中，将 Subsquid 作为 Zeitgeist 中重要的数据索引工具，总计提交了 27 份 commits。下面是关键更新详情：

![](./../img/2022-04-01_11-21.png)

- 追踪交易池以及账户中的 ZTG 交易（[#105](https://github.com/zeitgeistpm/zeitgeist-subsquid/commit/9fb1bd00676f91710f93fc6e7cb79f28e5bffd7d)）
- 将使用 0.2.4 版本的 Zeitgeist 节点中部分账户余额进行修正（[#107](https://github.com/zeitgeistpm/zeitgeist-subsquid/commit/dbdedb3838423fce49ddf94f9c14efda54e632d9)）
- 将 Zeitgeist 节点升级为 v0.3.0，并重新生成代码（[#108](https://github.com/zeitgeistpm/zeitgeist-subsquid/commit/9fe96ba4352888622857653fd0d988df586ed686)）
- 将所有异步代码使用 `Promise.all` 进行封装，解决其引发的 bug（[#110](https://github.com/zeitgeistpm/zeitgeist-subsquid/commit/5bd26e9671a93e9ad81ba78edc4d4bc49ad54598)）
- 在交易池中增加时间戳 `timestamp` 字段（[#113](https://github.com/zeitgeistpm/zeitgeist-subsquid/commit/f40f8f40a30ecbeee8fe9084b820c4627372e2b0)）
- 将 Zeitgeist 节点升级为 v0.3.1，并重新生成代码（[#108](https://github.com/zeitgeistpm/zeitgeist-subsquid/commit/321b8a7a4e807460c1b3bb028b590e0b21ce669e)）

### 协议

本月 Zeitgeist 协议的改动不多，主要针对 Polkadot 的升级进行同步升级适配，总计提交了 23 份 commits。下面是关键更新详情：

![](./../img/2022-04-01_11-16.png)

- 增加平行链质押，同时加入 `SplitCandidateStateToDecreasePoV` 以避免引发 Collator 选择错误（[#517](https://github.com/zeitgeistpm/zeitgeist/commit/8857318c513b3cf343ed2b51805b97789d7ec592)）
- 为 `pool_join` 和 `pool_exit` 增加安全性检查，保证权重上下限（[#506](https://github.com/zeitgeistpm/zeitgeist/commit/729be758e0f82afa19fc8d589298b5490d7a8374)）
- 删除无用的 `keep_outcome_tokens`，`creation` 字段，以及一些函数调用（[#504](https://github.com/zeitgeistpm/zeitgeist/commit/1f3b6377d285f4942e1db756f21b9a6e91addcca)）
- 增加市场状态图（[#545](https://github.com/zeitgeistpm/zeitgeist/commit/06f5e92e50da29a55e4df36e0b21e4275cf5d3cf)）
- 为 `pool_exit` 增加退出费用，并增加相关测试（[#518](https://github.com/zeitgeistpm/zeitgeist/commit/b756d027a7222bee115b467a893b537965e67124)）
- 实现赎回 token 时的存款（Deposit）操作（[#551](https://github.com/zeitgeistpm/zeitgeist/commit/976db4680e36d3785ae43b597971c294bff4b2cf)）
- 将补贴期限由时间计算改为区块计算（[#555](https://github.com/zeitgeistpm/zeitgeist/commit/9014b203f41dd7a0ecb2a19ba6ebb86a3663bc60)）
- 限制购买/卖出全集时的数量不能为 0 ，并完善相关测试（[#561](https://github.com/zeitgeistpm/zeitgeist/commit/178179ca6ef561da0b1d332d3e836f13f50650cb)）
- 将 ZTG 设置为创建资产池的默认资产，并完成相关测试（[#510](https://github.com/zeitgeistpm/zeitgeist/commit/ef0a9a199588e88bf231e555ac2625190e99699e)）
- 在 `DisputeApi` 中删除解决无争议市场接口，增加自动解决无争议的市场报告结果，并完善相关测试（[#516](https://github.com/zeitgeistpm/zeitgeist/commit/8973547742ed23a6c0976be46f3508b33f51efd0)）
- 升级到 polkadot-v0.9.17，并解决相关适配问题（[#550](https://github.com/zeitgeistpm/zeitgeist/commit/aa9431f41d02f003c2c7385c284d74522c8d9304)）
- 增加多签 pallet 并增加相关测试（[#563](https://github.com/zeitgeistpm/zeitgeist/commit/2e99111e34b71c050c981da7de09f03d6046f1c9)）
- 完善铸造/销毁资产池份额之后的事件触发，并完成相关测试（[#534](https://github.com/zeitgeistpm/zeitgeist/commit/6a35755ad388ffc55d77dac38ccb96fc9657b70a)）
- 将节点版本升级到 v0.3.1（[#570](https://github.com/zeitgeistpm/zeitgeist/commit/113fd42fc2f7163eb176bfb7c7999599191877e0)）

### SDK

本月 SDK 继续快速迭代，版本号从 v0.4.8-alpha.2 迭代到 v0.4.10 ，总计提交了 15 份 commits。下面是关键更新详情：

![](./../img/2022-04-01_11-19.png)

- 升级并适配 Zeitgeist v0.3.0 并发布 SDK v0.4.13 版本（[#180](https://github.com/zeitgeistpm/tools/commit/ff65bd7a54c027d3660c83e32ceac82a3b0d6642)）
- 升级并适配 Zeitgeist v0.3.1 并发布 SDK v0.4.14 版本（[#181](https://github.com/zeitgeistpm/tools/commit/5ad9f2a8dd680645a8afe33d3e80200ffedcef51)）
- 升级并适配 Polkadot/api-v8.1.1 并发布 SDK v0.5.0 版本（[#183](https://github.com/zeitgeistpm/tools/commit/443afb3513dfdd447b724c59588569c13dfc2be4)）

### APP 优化

本月大部分工作为 APP 的优化设计，目前 APP 还未开源，总计进行了 96 份 commits

![](./../img/2022-04-01_11-22.png)

### 其他开发

- 目前正在进行主网上线前最后的代码审计环节。

- 目前团队还在针对下一次大型市场营销活动进行相关网站以及工具的开发，包括 NFT 功能的进一步探索，尚未开源。
- 已在 Zeitgeist 余额查询界面更新众贷奖励数量，大家可以通过 `https://balance.zeitgeist.pm/` 网站进行查询。

## 市场

- 与 Karura 团队合作,将 aUSD 集成到 Zeitgeist 平台中,帮助用户避免受制于加密货币的价格波动。

- 与 Subscan 团队的数据分析套件完成集成，允许用户阅读我们的链上数据并获得我们位于 Kusama 平行链上的实时信息。

- 开始搭建 Dsicord 中文专属服务器，进一步专注于服务中文社区。

- 翻译并编辑预测市场有关的科普文章，为社区提供更详细的预测市场知识。

- 加入 Acala 2.5 亿生态基金计划，进一步支持 Polkadot/Kusama 生态中稳定币 aUSD 的生态扩展。
