# Monthly Report #202205 [Zeitgeist Update: May 2022]

In April，two rounds audits has finished and we have fixed most issues that found in . Besides, we are one of sponsors for Polkadot Global Hackathon and we are offering $30,000 in bounties to  three teams who produce innovative predictions-based tech.


### Protocol

This month, Zeitgeist made numerous improvements, primarily adjustments to the security part, and submitted a total of 63 commitments. Below are key update details:


- Remove `cancel_pending_market`（[#556](https://github.com/zeitgeistpm/zeitgeist/commit/dfcec232a973bfd99f8c936f160ee21a792fb9a7)）

- Make `MarketIdOf`, `BalanceOf`, `PoolId` & unsigned integers compact （[#578](https://github.com/zeitgeistpm/zeitgeist/commit/68a04957fa20761a0da95df0b4511c880bfc74b4)）

- Make `create_*_market` emit the `market_account`, `create_pool` emit the `pool_account`（[#594](https://github.com/zeitgeistpm/zeitgeist/commit/93ea1ce40b99ea373b6aad53099b587c82abbd58)）

- Fix unreserving of validity bond for advised market  （[#580](https://github.com/zeitgeistpm/zeitgeist/commit/ff563b8b5fc8922c2038339c64bfc9a7b9d8c755)）

- unreserve OracleBond for reject_market（[#604](https://github.com/zeitgeistpm/zeitgeist/commit/4d4268109203e8311893b7bb8793b4fdba330714)）

- Slash bonds when destroying market & Add tests for `destroy_market` involving Rikiddo（[#586](https://github.com/zeitgeistpm/zeitgeist/commit/beaa06dafdc25f56245d9a1357e479f22afae9f0)）

- Ensure that market can only be reported when closed（[#577](https://github.com/zeitgeistpm/zeitgeist/commit/d9e2878be9326669aed863f572073c422a0889fc)）

- Check market status in `reject_market`（[#585](https://github.com/zeitgeistpm/zeitgeist/commit/b6d39ca5eb2a48b91939ed2379c23e9698bb8579)）

- Add `MinSubsidyPerAccount` & Add check for zero amount in `pool_join_subsidy`（[#601](https://github.com/zeitgeistpm/zeitgeist/commit/d26258b7d0053567b483573dc402e6d389bb15ef)）

- Rename `set_pool_as_stale` to `set_pool_to_stale`（[#582](https://github.com/zeitgeistpm/zeitgeist/commit/eb60a028f745e85bd82d8030396a3ab38f2ce776)）

- Add `deploy_swap_pool_and_additional_liquidity` to public dispatches（[#619](https://github.com/zeitgeistpm/zeitgeist/commit/b224bdde223f263e139dca46092a950a7eb6438a)）

-  Make extrinsics `#[transactional]` & realease v0.3.2 version（[#576](https://github.com/zeitgeistpm/zeitgeist/commit/0518c7e81dc662950e404c067445cbc1406c41a4)）

- Add the proxy pallet to support more complex key management（[#613](https://github.com/zeitgeistpm/zeitgeist/commit/693c5c0039948787322b3f35e83dc8a298bb482b)）

- Add `MaxMarketPeriod` constant（[#614](https://github.com/zeitgeistpm/zeitgeist/commit/314c2548f5b96738525beae43818632b50c60afe)）

- Rewrite `authorized` pallet, remove `markets` from `market-commons`（[#574](https://github.com/zeitgeistpm/zeitgeist/commit/1447247ddcbc387bcf950c9b2d0ea7acdf39c452)）

- Benchmark runtime test; Enable parachain_staking benchmarks & Add weights（[#627](https://github.com/zeitgeistpm/zeitgeist/commit/ce520be36cc06d6687ca2f5c8499d2deb762d32d)）

- Fix and test invalid outcome ranges in `create_scalar_markets` （[#649](https://github.com/zeitgeistpm/zeitgeist/commit/ab2a8e629d736f5fdb744583b232300b0918adef)）

### Subsquid integration

This month, we continued to integrate subsquid into the Zeitgeist ecosystem as an important data index tool, and submitted a total of 18 commitments. Below are key update details:


- **Deploy a subsquid based data processor on the main network:**
  - Stage processor for battery station（[#121](https://github.com/zeitgeistpm/zeitgeist-subsquid/commit/48859e89ff67c74c3bae3c5dea5aa5111fb6b50c)）

  - Stage indexer for mainnet（[#123](https://github.com/zeitgeistpm/zeitgeist-subsquid/commit/be9fd754b9c27253150e671c64b3fd0d0a6a69bc)）
  - **Setup processor for mainnet**（[#134](https://github.com/zeitgeistpm/zeitgeist-subsquid/commit/9b6fe2320b043b6c7712590ea0761eefd902cb48)）

- **Add events and methods to the processor to update the relevant balance and result token price for market settlement:**

  - Update balances of losing asset holders（[#125](https://github.com/zeitgeistpm/zeitgeist-subsquid/commit/b1590532a0d5851728b1780b142da885c9c7f9c4)）

  - Update asset price on market resolution （[#126](https://github.com/zeitgeistpm/zeitgeist-subsquid/commit/a1fd4b7b6e79a6c7d8afebd44b5b31caebde9945)）

  - Update balances of winning asset holders（[#127](https://github.com/zeitgeistpm/zeitgeist-subsquid/commit/06164947254fcae29f2b28f11e5351debddbdd75)）

  - Register resolution changes to assetQty in pool account（[#130](https://github.com/zeitgeistpm/zeitgeist-subsquid/commit/727cc1205ea308646d65216f8ee51c050f37d309)）

- Fix zero price due to incorrect `newAssetQty`（[#129](https://github.com/zeitgeistpm/zeitgeist-subsquid/commit/6f5ff50d71b9ba20e89cc9a8c93465d99a7f2c5e)）

- Record market account upon creation （[#133](https://github.com/zeitgeistpm/zeitgeist-subsquid/commit/eb81902ee71b5b9cfd5b08b6dd3c667612a56040)）

- Replace toNumber() with Number()（[#122](https://github.com/zeitgeistpm/zeitgeist-subsquid/commit/82e25c0d3985edd66210fe0988550118c6fcedc7)）

- Process & map TokensRedeemedEvent （[#124](https://github.com/zeitgeistpm/zeitgeist-subsquid/commit/8ff3a95192d534cafefefbaf7c9a7f071a9b4dd9)）

### SDK

The SDK is relatively stable this month and are ready for the Polkadot Hackathon, and the version number moved up from the v0.5.1 iteration to v0.5.2. One commit were submitted. Below are key update details:


- Upgrade to zeitgeist-v0.3.0 & Realease SDK v0.5.2（[#180](https://github.com/zeitgeistpm/tools/commit/ff65bd7a54c027d3660c83e32ceac82a3b0d6642)）



### App optimization

A lot of our work this month was around the optimization of the app, with a total of 59 commitments made in this regard.


### Marketing

 - Design a new landing page for the Zeitgeist documentation website
 
 - Releasing some Futarchy educational articles 
 
 - Partnership with Exiled Racers NFT project

 - Preparations for launch marketing campaign

 - Tutorial series on blog and YouTube around prediction markets

 - Partnership in the Polkadot Global hackathon
 


### Other development

- The code audit finished, and changes are being made to some parts that need to be modified before mainnet launch.

- The app project will be open-source soon. At the same time, a project example based on Kusama Derby activities will be open-source to provide developers with an SDK use example.

- New Official website coming soon.

- The new version of the documentation website has been launched, and a large number of documents including SDK and app tutorials have been updated.

- Add OnFinality and Dwellir nodes to ensure node stability.
